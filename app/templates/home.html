{% extends 'app/templates/base.html' %}
{% load static %}
{% block title %} Home {% endblock %}
{% block js_block %} 
    <script src="{% static 'js/home.js' %}" type="text/javascript"></script>
    <script>
        function toggleLike(heart) {
            if (heart.src.includes('{% static "assets/like-full.svg" %}')) {
                heart.src = '{% static "assets/like-empty.svg" %}';
            } else {
                heart.src = '{% static "assets/like-full.svg" %}';
            }
        }
    </script>
{% endblock %}
{% block main %}
<section class="first">
    <h1>Voyager <span>le monde</span></h1>
    <div class="services-cards">
        <div class="card">
            <div class="icon">
                <img src="{% static "assets/secured-payment.png" %}" alt="services-message">
            </div>
            <p class="text">
                Paiement Securisé
            </p>
        </div>
        <div class="card">
            <div class="icon">
                <img src="{% static "assets/bill_repo.png" %}" alt="services-message">
            </div>
            <p class="text">
                0 Dhs Frais De Dossier
            </p>
        </div>
        <div class="card">
            <div class="icon">
                <img src="{% static "assets/price-tag.png" %}" alt="services-message">
            </div>
            <p class="text">
                Meilleurs Tarifs Garanties
            </p>
        </div>
        <div class="card">
            <div class="icon">
                <img src="{% static "assets/24-hours.png" %}" alt="services-message">
            </div>
            <p class="text">
                Assistance 24H/24
            </p>
        </div>
    </div>
</section>
<section class="second">
    {% for card in query %}
    
    <div class="mini-card-voyage">
        <div class="image">
            <img src="{% static 'assets/dubai.jpg' %}" alt="image-hotel">
            {% comment "" %}<span class="reaction">
                <img id="heart" src="{% static 'assets/like-empty.svg' %}" onclick="toggleLike(this)">
            </span>{% endcomment %}
        </div>
        <div class="body">
            <span class="title">{{card.id_voyage.titre_voyage}}</span>
            <span class="localisation"><i class="fa-solid fa-location-dot"></i>{{card.id_ville.nom_ville}}</span>
            <span class="price">Prix: <span>{{card.id_voyage.prix_voyage}}&euro;</span></span>
            {% with nuit=card.id_voyage.duree_voyage|add:"-1" %}
            <span class="rating">Durée: <span> {{card.id_voyage.duree_voyage}} jours/{{nuit}} nuits</span></span>
            {% endwith %}
            <form method="get" action="#">
                <button type="submit">Details</button>
            </form>
        </div>
    </div> 
    {% endfor %}
    {% comment "" %}
    <div class="mini-card-voyage">
        <div class="image">
            <img src="{% static 'assets/hotel.png' %}" alt="image-hotel">
            <span class="reaction">
                <img id="heart" src="{% static 'assets/like-empty.svg' %}" onclick="toggleLike(this)">
            </span>
        </div>
        
        <div class="body">
            <span class="title">Voyage organisé delux</span>
            <span class="localisation"><i class="fa-solid fa-location-dot"></i>Maroc, Agadir</span>
            <span class="price">Prix: <span>289&euro;</span></span>
            <span class="rating">Durée: <span>8 jours/7 nuits</span></span>
            <form method="get" action="#">
                <button type="submit">Details</button>
            </form>
        </div>
    </div> 
    <div class="mini-card-voyage">
        <div class="image">
            <img src="{% static 'assets/hotel.png' %}" alt="image-hotel">
            <span class="reaction">
                <img id="heart" src="{% static 'assets/like-empty.svg' %}" onclick="toggleLike(this)">
            </span>
        </div>
        <div class="body">
            <span class="title">Voyage organisé delux</span>
            <span class="localisation"><i class="fa-solid fa-location-dot"></i>Maroc, Agadir</span>
            <span class="price">Prix: <span>289&euro;</span></span>
            <span class="rating">Durée: <span>8 jours/7 nuits</span></span>
            <form method="get" action="#">
                <button type="submit">Details</button>
            </form>
        </div>
        
    </div> {% endcomment %}
</section>

{% endblock %}